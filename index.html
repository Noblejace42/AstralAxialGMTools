<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Emerson Neher</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;500&display=swap" rel="stylesheet"/>

  <!-- Compromise.js for POS tagging (cdnjs avoids MIME issues) -->
  <script src="https://cdn.jsdelivr.net/npm/compromise@14.14.5/builds/compromise.min.js"></script>

  <!-- Your site‑wide CSS file from earlier responses -->
  <link rel="stylesheet" href="home(13).css"/>
</head>
<body>

  <!--  ───────────────────  MAIN CONTENT  ───────────────────  -->
  <div class="main-container">
    <!--  Center card (unchanged)  -->
    <div class="center-card" id="centerCard">
      <div class="card-buttons">
        <button id="themeToggleBtn" class="toggle-theme-btn">Toggle Theme</button>
        <a href="systemgen.html"   class="card-btn">Astral Axial</a>
        <a href="https://emersonneher.substack.com" target="_blank" class="card-btn">Hopeless Poetic</a>
        <button id="miscBtn" class="card-btn">Miscellaneous</button>
      </div>

      <div class="card-image">
        <img src="image/sittingimage.jpg" alt="Emerson Neher">
      </div>

      <div class="contact-card">
        <h1>Emerson Neher</h1>
        <h3>they/them/theirs</h3>
        <p>Email: <a href="mailto:emersonneher@gmail.com">emersonneher@gmail.com</a></p>
        <p>Worcester, MA &amp; Evergreen, CO</p>
        <p>Worcester Polytechnic Institute | Class of 2028<br>
           Financial Technology Major | Information Systems Major</p>
        <p class="links">
          <a href="https://www.linkedin.com/in/emerson-neher-184274346" target="_blank">LinkedIn</a> |
          <a href="https://www.instagram.com/emerson.neher/"           target="_blank">Instagram</a> |
          <a href="https://discord.com/users/noblejace"               target="_blank">Discord</a>
        </p>
        <p class="bio">
          Passionate about technology, finance, and systems design. I’m a writer, game
          designer, and storyteller who finds inspiration in the rhythm of poetry, the
          mechanics of RPGs, and the art of photography.
        </p>
      </div>

      <div class="spotify-container">
        <div class="spotify-title">Currently Listening</div>
        <iframe
          src="https://open.spotify.com/embed/playlist/0FdmEAvUL4hFCzBDev8n6J?utm_source=generator&theme=1"
          width="100%" height="180" frameborder="0"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy">
        </iframe>
      </div>
    </div>

    <!--  Markov generator card  -->
    <div class="markov-card">
      <h3>Emerson’s Wisdom</h3>
      <div id="markovQuote">Loading…</div>
      <button id="regenerateBtn" class="card-btn" disabled>Bestow Wisdom</button>
    </div>
  </div>

  <!--  Floating background tiles  -->
  <div class="tiles-container"></div>

  <!--  Miscellaneous modal  -->
  <div id="miscModal" class="modal hidden">
    <div class="modal-content">
      <button id="closeModal" class="close-btn" aria-label="Close">&times;</button>
      <h2>Miscellaneous Projects</h2>
      <p>Explore extra snippets, downloads, and fun experiments.</p>
      <ul style="list-style:none;line-height:1.8;padding:0;margin-top:1em">
        <li><a href="resume.pdf" download>Download my resume</a></li>
        <li><a href="https://open.spotify.com/playlist/3vDF8HiTd7JqePb8OrA4vA?si=59d7ce28997841d1" target="_blank">Favorite Playlist</a></li>
        <li><a href="https://hopelesspoetic.com/weakestlink.html" target="_blank">Weakest Link (MKT4030)</a></li>
      </ul>
    </div>
  </div>

  <!--  ───────────────────  MARKOV ENGINE  ───────────────────  -->
  <script src="markovscript.js"></script>

  <!--  ───────────────────  UI HELPERS (inline)  ───────────────────  -->
  <script>
  /* ---------- Theme toggle ---------- */
  document.getElementById('themeToggleBtn')
          .addEventListener('click', () => document.body.classList.toggle('light-mode'));

  /* ---------- Floating tiles ---------- */
  const tilePaths = Array.from({length:34}, (_,i) => `image/${i+4}.jpg`);
  const tileData  = [];
  const tilesBox  = document.querySelector('.tiles-container');
  let loaded = 0;

  tilePaths.forEach(src=>{
    const img=new Image(); img.src=src;
    img.onload = ()=>{ tileData.push({src,aspect:img.width/img.height||1}); check(); };
    img.onerror=check;
  });
  function check(){
    if(++loaded === tilePaths.length){
      spawnTile();
      setInterval(()=>{ if(tilesBox.children.length<5) spawnTile(); }, 2000);
    }
  }
  function spawnTile(){
    if(!tileData.length) return;
    const {src,aspect} = tileData[Math.random()*tileData.length|0];
    const el = document.createElement('div');
    const w = 150 + Math.random()*250, h = w / aspect;
    el.className = 'moving-tile';
    el.style.cssText = `
      width:${w}px;height:${h}px;top:${Math.random()*(innerHeight-h)}px;
      background-image:url('${src}');
    `;
    el.onanimationend = ()=>el.remove();
    tilesBox.appendChild(el);
  }

  /* ---------- Misc modal ---------- */
  const miscModal = document.getElementById('miscModal');
  document.getElementById('miscBtn').onclick  = () => miscModal.classList.remove('hidden');
  document.getElementById('closeModal').onclick = () => miscModal.classList.add('hidden');
  miscModal.onclick = e => { if(e.target === miscModal) miscModal.classList.add('hidden'); };
  </script>
</body>
</html>
